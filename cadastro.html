<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Amor Conect</title>
    
    <!-- CSS MODULAR -->
    <link rel="stylesheet" href="css/globals.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/auth.css">
    
    <!-- CSS ESPEC√çFICO DO CADASTRO -->
    <style>
        /* ==================== CADASTRO CSS ==================== */
        /* Estilos espec√≠ficos para manter ID√äNTICO ao original */
        
        .auth-container {
            width: 90%;
            max-width: 500px;
            background: var(--branco);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 3rem;
            border: 1px solid var(--lilas);
            margin: 0 auto;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .auth-logo {
            width: 250px;
            height: 250px;
            margin: -25px auto 1rem auto;
            object-fit: contain;
            display: block;
            position: relative;
            z-index: 1;
        }

        .auth-header h1 {
            font-size: 2.2rem;
            color: var(--vermelho-rosado);
            margin-bottom: 0.5rem;
        }

        .auth-header p {
            color: var(--text-light);
            font-size: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .btn-block {
            width: 100%;
            padding: 1rem;
            font-size: 1.1rem;
            margin-top: 1rem;
        }

        .auth-footer {
            text-align: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--lilas);
        }

        /* Password Requirements - ID√äNTICO AO ORIGINAL */
        .password-requirements {
            background: var(--bege);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 0.5rem;
            border: 1px solid var(--lilas);
        }

        .password-requirements h4 {
            color: var(--vermelho-rosado);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .requirements-list {
            list-style: none;
            font-size: 0.8rem;
        }

        .requirements-list li {
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .requirement-met {
            color: var(--success);
            font-weight: 600;
        }

        .requirement-met::before {
            content: "‚úÖ ";
        }

        .requirement-unmet {
            color: var(--text-light);
        }

        .requirement-unmet::before {
            content: "‚ùå ";
        }

        /* Password Strength Meter */
        .password-strength {
            margin-top: 0.5rem;
            height: 4px;
            border-radius: 2px;
            background: #e5e7eb;
            overflow: hidden;
        }

        .strength-bar {
            height: 100%;
            width: 0%;
            transition: var(--transition);
            border-radius: 2px;
        }

        .strength-weak { background: var(--error); width: 25%; }
        .strength-fair { background: #f59e0b; width: 50%; }
        .strength-good { background: #eab308; width: 75%; }
        .strength-strong { background: var(--success); width: 100%; }

        .strength-text {
            font-size: 0.75rem;
            margin-top: 0.25rem;
            text-align: right;
            font-weight: 500;
        }

        /* Terms Checkbox */
        .terms-group {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .terms-group input[type="checkbox"] {
            margin-top: 0.25rem;
            accent-color: var(--vermelho-rosado);
        }

        .terms-group label {
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .terms-group a {
            color: var(--vermelho-rosado);
            text-decoration: none;
        }

        .terms-group a:hover {
            text-decoration: underline;
        }

        /* Responsividade ID√äNTICA */
        @media (max-width: 768px) {
            .auth-container {
                padding: 2.5rem;
                margin: 1rem auto;
                width: 95%;
                max-width: 450px;
            }

            .auth-logo {
                width: 130px;
                height: 130px;
                margin: -20px auto 0.8rem auto;
            }

            .auth-header h1 {
                font-size: 2rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .auth-container {
                padding: 2rem;
                margin: 1rem auto;
                width: 95%;
            }

            .auth-logo {
                width: 80px;
                height: 80px;
            }

            .auth-header h1 {
                font-size: 1.8rem;
            }

            .auth-header p {
                font-size: 0.95rem;
            }
        }

        @media (max-width: 360px) {
            .auth-container {
                padding: 1.5rem;
                margin: 0.5rem auto;
                width: 98%;
            }

            .auth-logo {
                width: 70px;
                height: 70px;
            }

            .auth-header h1 {
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="logoamorconect.png" alt="Amor Conect">
                    <h1>Amor Conect</h1>
                </div>
                <div class="auth-buttons">
                    <a href="login.html" class="btn btn-outline">Entrar</a>
                    <a href="cadastro.html" class="btn btn-primary">Cadastre-se</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="auth-container">
                <div class="auth-header">
                    <img src="logoamorconect.png" alt="Amor Conect" class="auth-logo">
                    <h1>Criar Conta</h1>
                    <p>Junte-se ao Amor Conect e encontre sua conex√£o perfeita</p>
                </div>

                <!-- Alert Messages -->
                <div id="errorAlert" class="alert alert-error"></div>
                <div id="successAlert" class="alert alert-success"></div>
                <div id="loading" class="loading">Processando cadastro...</div>

                <form id="registerForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">Nome</label>
                            <input type="text" id="firstName" class="form-control" required>
                            <div id="firstNameError" class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Sobrenome</label>
                            <input type="text" id="lastName" class="form-control" required>
                            <div id="lastNameError" class="error-message"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="nickname">Apelido/Nickname</label>
                        <input type="text" id="nickname" class="form-control" required>
                        <div id="nicknameError" class="error-message"></div>
                    </div>

                    <div class="form-group">
                        <label for="email">E-mail</label>
                        <input type="email" id="email" class="form-control" required>
                        <div id="emailError" class="error-message"></div>
                    </div>

                    <div class="form-group">
                        <label for="birthDate">Data de Nascimento</label>
                        <input type="date" id="birthDate" class="form-control" required>
                        <div id="birthDateError" class="error-message"></div>
                    </div>

                    <div class="form-group">
                        <label for="password">Senha</label>
                        <input type="password" id="password" class="form-control" required>
                        <div id="passwordError" class="error-message"></div>
                        
                        <!-- REQUISITOS DA SENHA - ID√äNTICO AO ORIGINAL -->
                        <div class="password-requirements">
                            <h4>Requisitos da senha:</h4>
                            <ul class="requirements-list">
                                <li id="reqLength" class="requirement-unmet">
                                    M√≠nimo 8 caracteres
                                </li>
                                <li id="reqUppercase" class="requirement-unmet">
                                    Pelo menos 1 letra mai√∫scula (A-Z)
                                </li>
                                <li id="reqLowercase" class="requirement-unmet">
                                    Pelo menos 1 letra min√∫scula (a-z)
                                </li>
                                <li id="reqNumber" class="requirement-unmet">
                                    Pelo menos 1 n√∫mero (0-9)
                                </li>
                                <li id="reqSpecial" class="requirement-unmet">
                                    Pelo menos 1 s√≠mbolo (!@#$% etc.)
                                </li>
                            </ul>
                            <div class="password-strength">
                                <div id="strengthBar" class="strength-bar"></div>
                            </div>
                            <div id="strengthText" class="strength-text"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Confirmar Senha</label>
                        <input type="password" id="confirmPassword" class="form-control" required>
                        <div id="confirmPasswordError" class="error-message"></div>
                    </div>

                    <div class="terms-group">
                        <input type="checkbox" id="terms" required>
                        <label for="terms">
                            Concordo com os <a href="#">Termos de Servi√ßo</a> e 
                            <a href="#">Pol√≠tica de Privacidade</a> do Amor Conect
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">
                        Criar Conta
                    </button>

                    <div class="auth-footer">
                        <p>J√° tem uma conta? <a href="login.html">Fa√ßa login aqui</a></p>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Amor Conect</h3>
                    <p>Uma plataforma segura e discreta para conectar cora√ß√µes e construir relacionamentos genu√≠nos.</p>
                </div>
                <div class="footer-column">
                    <h3>Links R√°pidos</h3>
                    <ul>
                        <li><a href="index.html">P√°gina Inicial</a></li>
                        <li><a href="#como-funciona">Como Funciona</a></li>
                        <li><a href="#sobre">Sobre N√≥s</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Suporte</h3>
                    <ul>
                        <li><a href="#">Central de Ajuda</a></li>
                        <li><a href="#">Pol√≠tica de Privacidade</a></li>
                        <li><a href="#">Termos de Uso</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Amor Conect. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script src="js/globals.js"></script>
    <script src="js/auth.js"></script>
    
    <!-- JS ESPEC√çFICO DO CADASTRO -->
    <script>
        // ==================== CADASTRO JS ====================
        // L√≥gica espec√≠fica do cadastro - ID√äNTICA AO ORIGINAL

        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìù Cadastro.js inicializando...');
            initializeCadastro();
        });

        function initializeCadastro() {
            // Configurar data m√°xima (18 anos atr√°s)
            const today = new Date();
            const maxDate = new Date(today.getFullYear() - 18, today.getMonth(), today.getDate());
            document.getElementById('birthDate').max = maxDate.toISOString().split('T')[0];

            // Configurar formul√°rio
            setupRegisterForm();
        }

        // Configurar valida√ß√µes em tempo real
        function setupRegisterForm() {
            const form = document.getElementById('registerForm');
            
            // Valida√ß√µes em tempo real
            document.getElementById('firstName').addEventListener('blur', validateName);
            document.getElementById('lastName').addEventListener('blur', validateName);
            document.getElementById('nickname').addEventListener('blur', validateNickname);
            document.getElementById('email').addEventListener('blur', validateEmail);
            document.getElementById('birthDate').addEventListener('change', validateBirthDate);
            document.getElementById('password').addEventListener('input', function() {
                updatePasswordRequirements(this.value);
                validatePasswordRealTime();
            });
            document.getElementById('confirmPassword').addEventListener('blur', validateConfirmPassword);

            // O submit √© tratado pelo auth.js
        }

        // Fun√ß√µes de valida√ß√£o em tempo real
        function validateName(e) {
            const field = e.target;
            const errorElement = document.getElementById(field.id + 'Error');
            if (field.value.trim().length < 2) {
                errorElement.textContent = field.id === 'firstName' ? 
                    'Nome deve ter pelo menos 2 caracteres' : 
                    'Sobrenome deve ter pelo menos 2 caracteres';
                errorElement.style.display = 'block';
                field.classList.add('error');
            } else {
                errorElement.style.display = 'none';
                field.classList.remove('error');
            }
        }

        function validateNickname() {
            const field = document.getElementById('nickname');
            const errorElement = document.getElementById('nicknameError');
            if (field.value.trim().length < 3) {
                errorElement.textContent = 'Nickname deve ter pelo menos 3 caracteres';
                errorElement.style.display = 'block';
                field.classList.add('error');
            } else {
                errorElement.style.display = 'none';
                field.classList.remove('error');
            }
        }

        function validateEmail() {
            const field = document.getElementById('email');
            const errorElement = document.getElementById('emailError');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(field.value.trim())) {
                errorElement.textContent = 'Por favor, insira um e-mail v√°lido';
                errorElement.style.display = 'block';
                field.classList.add('error');
            } else {
                errorElement.style.display = 'none';
                field.classList.remove('error');
            }
        }

        function validateBirthDate() {
            const field = document.getElementById('birthDate');
            const errorElement = document.getElementById('birthDateError');
            if (!field.value) {
                errorElement.textContent = 'Data de nascimento √© obrigat√≥ria';
                errorElement.style.display = 'block';
                field.classList.add('error');
            } else {
                const selectedDate = new Date(field.value);
                const maxDate = new Date();
                maxDate.setFullYear(maxDate.getFullYear() - 18);
                
                if (selectedDate > maxDate) {
                    errorElement.textContent = 'Voc√™ deve ter pelo menos 18 anos';
                    errorElement.style.display = 'block';
                    field.classList.add('error');
                } else {
                    errorElement.style.display = 'none';
                    field.classList.remove('error');
                }
            }
        }

        function validatePasswordRealTime() {
            const field = document.getElementById('password');
            const errorElement = document.getElementById('passwordError');
            const passwordValidation = validatePassword(field.value);
            
            if (field.value && !passwordValidation.isValid) {
                errorElement.textContent = 'A senha n√£o atende aos requisitos de seguran√ßa';
                errorElement.style.display = 'block';
                field.classList.add('error');
            } else {
                errorElement.style.display = 'none';
                field.classList.remove('error');
            }
        }

        function validateConfirmPassword() {
            const field = document.getElementById('confirmPassword');
            const password = document.getElementById('password').value;
            const errorElement = document.getElementById('confirmPasswordError');
            if (field.value !== password) {
                errorElement.textContent = 'As senhas n√£o coincidem';
                errorElement.style.display = 'block';
                field.classList.add('error');
            } else {
                errorElement.style.display = 'none';
                field.classList.remove('error');
            }
        }

        // Sistema de requisitos de senha em tempo real
        function updatePasswordRequirements(password) {
            const { requirements, strength } = checkPasswordStrength(password);
            const requirementElements = {
                length: document.getElementById('reqLength'),
                uppercase: document.getElementById('reqUppercase'),
                lowercase: document.getElementById('reqLowercase'),
                number: document.getElementById('reqNumber'),
                special: document.getElementById('reqSpecial')
            };
            
            // Atualizar cada requisito
            Object.keys(requirements).forEach(key => {
                const element = requirementElements[key];
                if (element) {
                    if (requirements[key]) {
                        element.classList.add('requirement-met');
                        element.classList.remove('requirement-unmet');
                    } else {
                        element.classList.remove('requirement-met');
                        element.classList.add('requirement-unmet');
                    }
                }
            });

            // Atualizar barra de for√ßa
            const strengthBar = document.getElementById('strengthBar');
            const strengthText = document.getElementById('strengthText');
            
            strengthBar.className = 'strength-bar';
            strengthText.textContent = '';
            
            if (password.length > 0) {
                switch(strength) {
                    case 1:
                    case 2:
                        strengthBar.classList.add('strength-weak');
                        strengthText.textContent = 'Fraca';
                        strengthText.style.color = '#ef4444';
                        break;
                    case 3:
                        strengthBar.classList.add('strength-fair');
                        strengthText.textContent = 'Razo√°vel';
                        strengthText.style.color = '#f59e0b';
                        break;
                    case 4:
                        strengthBar.classList.add('strength-good');
                        strengthText.textContent = 'Boa';
                        strengthText.style.color = '#eab308';
                        break;
                    case 5:
                        strengthBar.classList.add('strength-strong');
                        strengthText.textContent = 'Forte';
                        strengthText.style.color = '#22c55e';
                        break;
                }
            }
        }

        // Fun√ß√£o auxiliar para verificar for√ßa da senha
        function checkPasswordStrength(password) {
            const requirements = {
                length: password.length >= 8,
                uppercase: /[A-Z]/.test(password),
                lowercase: /[a-z]/.test(password),
                number: /[0-9]/.test(password),
                special: /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)
            };
            
            const strength = Object.values(requirements).filter(Boolean).length;
            return { requirements, strength };
        }

        console.log('‚úÖ Cadastro.js carregado!');
    </script>
</body>
</html>